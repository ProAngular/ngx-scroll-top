{"version":3,"file":"proangular-ngx-scroll-top.mjs","sources":["../../../src/app/public/ngx-scroll-top.component.ts","../../../src/app/public/ngx-scroll-top.module.ts","../../../src/app/public/public.ts","../../../src/app/public/proangular-ngx-scroll-top.ts"],"sourcesContent":["import { animate, style, transition, trigger } from '@angular/animations';\nimport { Component, HostBinding, HostListener, Input } from '@angular/core';\n\nconst w = window;\n\n@Component({\n  selector: 'ngx-scroll-top',\n  template: `\n    <button *ngIf=\"!isHidden\" (click)=\"scrollTop()\" [@easeInOutAnimation]>\n      Up\n    </button>\n  `,\n  animations: [\n    trigger('easeInOutAnimation', [\n      transition(':enter', [\n        style({ opacity: 0 }),\n        animate('200ms', style({ opacity: 1 })),\n      ]),\n      transition(':leave', [\n        style({ opacity: 1 }),\n        animate('200ms', style({ opacity: 0 })),\n      ]),\n    ]),\n  ],\n  styles: [\n    `\n      :host {\n        position: fixed;\n        right: 2rem;\n        width: 25px;\n        transition: all 0.1s ease-in-out;\n        z-index: 9999;\n      }\n    `,\n  ],\n})\nexport class NgxScrollTopComponent {\n  private readonly styleBottomDefault = '32px';\n  public isHidden = true;\n\n  /**\n   * Offset button from bottom of page dynamically by setting this value.\n   */\n  @Input() public bottomOffset: string | number = '0px';\n  @Input() public displayAtYPosition: string | number = '420px';\n\n  @HostBinding('style.bottom') public styleBottom = this.styleBottomDefault;\n  @HostBinding('style.height') public styleHeight = '25px';\n  @HostListener('window:scroll', []) public onWindowScroll(): void {\n    this.updateIsHidden();\n    this.updatePosition();\n  }\n\n  public scrollTop(): void {\n    w.scroll({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  }\n\n  private updatePosition(): void {\n    const useDefaultPosition = (): void => {\n      // Use the default position.\n      this.styleBottom = this.styleBottomDefault;\n    };\n\n    if (this.isHidden) {\n      useDefaultPosition();\n      return;\n    }\n\n    try {\n      const { document, scrollY } = w;\n      const { documentElement: docEl } = document;\n      const bottomY = docEl.scrollHeight - docEl.clientHeight;\n      const bottomOffset = parseInt(this.bottomOffset.toString(), 10);\n      const distanceFromBottom = bottomY - scrollY;\n      const height = parseInt(this.styleHeight, 10);\n\n      if (distanceFromBottom + (height - height / 2) < bottomOffset) {\n        // Scroll up button exceeded bottom offset, update position.\n        this.styleBottom = `${bottomOffset - distanceFromBottom + height}px`;\n      } else {\n        useDefaultPosition();\n      }\n    } catch (error: unknown) {\n      console.warn(\n        'Failed to update back to top button position dynamically.',\n        error,\n      );\n      useDefaultPosition();\n    }\n  }\n\n  private updateIsHidden(): void {\n    const { scrollY } = w;\n    if (this.isHidden && scrollY > this.displayAtYPosition) {\n      this.isHidden = false;\n    } else if (!this.isHidden && scrollY <= this.displayAtYPosition) {\n      this.isHidden = true;\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxScrollTopComponent } from './ngx-scroll-top.component';\n\n@NgModule({\n  declarations: [NgxScrollTopComponent],\n  imports: [CommonModule],\n  exports: [NgxScrollTopComponent],\n  providers: [],\n})\nexport class NgxScrollTopModule {}\n","/** Public API Exports for Node Package */\n\nexport * from './ngx-scroll-top.component';\nexport * from './ngx-scroll-top.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public';\n"],"names":[],"mappings":"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"}